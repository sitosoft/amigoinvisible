import{r as e}from"./rolldown-runtime-DHhoF4nQ.js";import{A as t,j as n}from"./chunk-UIGDSWPH-CVnvffNS.js";import"./react-dom-Cnnu4KlO.js";import{a as r,d as i,f as a,g as o,h as s,i as c,l,m as u,n as d,o as f,p,s as m,u as h,v as g,w as _}from"./esm-CgsQrtRs.js";import"./reflex-env-DsfBhymQ.js";import{n as v}from"./emotion-react.browser.esm-CgZHOErX.js";var y=e(n(),1),b=e(s(),1),x=`Label`,S=y.forwardRef((e,t)=>(0,b.jsx)(u.label,{...e,ref:t,onMouseDown:t=>{t.target.closest(`button, input, select, textarea`)||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));S.displayName=x;var[C,w]=p(`Form`),T=`Form`,[ee,E]=C(T),[te,D]=C(T),O=y.forwardRef((e,t)=>{let{__scopeForm:n,onClearServerErrors:r=()=>{},...i}=e,s=o(t,y.useRef(null)),[c,l]=y.useState({}),d=y.useCallback(e=>c[e],[c]),f=y.useCallback((e,t)=>l(n=>({...n,[e]:{...n[e]??{},...t}})),[]),p=y.useCallback(e=>{l(t=>({...t,[e]:void 0})),S(t=>({...t,[e]:{}}))},[]),[m,h]=y.useState({}),g=y.useCallback(e=>m[e]??[],[m]),_=y.useCallback((e,t)=>{h(n=>({...n,[e]:[...n[e]??[],t]}))},[]),v=y.useCallback((e,t)=>{h(n=>({...n,[e]:(n[e]??[]).filter(e=>e.id!==t)}))},[]),[x,S]=y.useState({}),C=y.useCallback(e=>x[e]??{},[x]),w=y.useCallback((e,t)=>{S(n=>({...n,[e]:{...n[e]??{},...t}}))},[]),[T,E]=y.useState({});return(0,b.jsx)(ee,{scope:n,getFieldValidity:d,onFieldValidityChange:f,getFieldCustomMatcherEntries:g,onFieldCustomMatcherEntryAdd:_,onFieldCustomMatcherEntryRemove:v,getFieldCustomErrors:C,onFieldCustomErrorsChange:w,onFieldValiditionClear:p,children:(0,b.jsx)(te,{scope:n,onFieldMessageIdAdd:y.useCallback((e,t)=>{E(n=>{let r=new Set(n[e]).add(t);return{...n,[e]:r}})},[]),onFieldMessageIdRemove:y.useCallback((e,t)=>{E(n=>{let r=new Set(n[e]);return r.delete(t),{...n,[e]:r}})},[]),getFieldDescription:y.useCallback(e=>Array.from(T[e]??[]).join(` `)||void 0,[T]),children:(0,b.jsx)(u.form,{...i,ref:s,onInvalid:a(e.onInvalid,e=>{let t=Y(e.currentTarget);t===e.target&&t.focus(),e.preventDefault()}),onSubmit:a(e.onSubmit,r,{checkForDefaultPrevented:!1}),onReset:a(e.onReset,r)})})})});O.displayName=T;var k=`FormField`,[ne,A]=C(k),j=y.forwardRef((e,t)=>{let{__scopeForm:n,name:r,serverInvalid:a=!1,...o}=e,s=E(k,n).getFieldValidity(r);return(0,b.jsx)(ne,{scope:n,id:i(),name:r,serverInvalid:a,children:(0,b.jsx)(u.div,{"data-valid":Z(s,a),"data-invalid":Q(s,a),...o,ref:t})})});j.displayName=k;var M=`FormLabel`,N=y.forwardRef((e,t)=>{let{__scopeForm:n,...r}=e,i=E(M,n),a=A(M,n),o=r.htmlFor||a.id,s=i.getFieldValidity(a.name);return(0,b.jsx)(S,{"data-valid":Z(s,a.serverInvalid),"data-invalid":Q(s,a.serverInvalid),...r,ref:t,htmlFor:o})});N.displayName=M;var P=`FormControl`,re=y.forwardRef((e,t)=>{let{__scopeForm:n,...r}=e,i=E(P,n),s=A(P,n),c=D(P,n),l=y.useRef(null),d=o(t,l),f=r.name||s.name,p=r.id||s.id,m=i.getFieldCustomMatcherEntries(f),{onFieldValidityChange:h,onFieldCustomErrorsChange:g,onFieldValiditionClear:_}=i,v=y.useCallback(async e=>{if(X(e.validity)){h(f,G(e.validity));return}let t=e.form?new FormData(e.form):new FormData,n=[e.value,t],r=[],i=[];m.forEach(e=>{ae(e,n)?i.push(e):oe(e)&&r.push(e)});let a=r.map(({id:e,match:t})=>[e,t(...n)]),o=Object.fromEntries(a),s=Object.values(o).some(Boolean),c=s;if(e.setCustomValidity(c?F:``),h(f,G(e.validity)),g(f,o),!s&&i.length>0){let t=i.map(({id:e,match:t})=>t(...n).then(t=>[e,t])),r=await Promise.all(t),a=Object.fromEntries(r),o=Object.values(a).some(Boolean);e.setCustomValidity(o?F:``),h(f,G(e.validity)),g(f,a)}},[m,f,g,h]);y.useEffect(()=>{let e=l.current;if(e){let t=()=>v(e);return e.addEventListener(`change`,t),()=>e.removeEventListener(`change`,t)}},[v]);let x=y.useCallback(()=>{let e=l.current;e&&(e.setCustomValidity(``),_(f))},[f,_]);y.useEffect(()=>{let e=l.current?.form;if(e)return e.addEventListener(`reset`,x),()=>e.removeEventListener(`reset`,x)},[x]),y.useEffect(()=>{let e=l.current,t=e?.closest(`form`);if(t&&s.serverInvalid){let n=Y(t);n===e&&n.focus()}},[s.serverInvalid]);let S=i.getFieldValidity(f);return(0,b.jsx)(u.input,{"data-valid":Z(S,s.serverInvalid),"data-invalid":Q(S,s.serverInvalid),"aria-invalid":s.serverInvalid?!0:void 0,"aria-describedby":c.getFieldDescription(f),title:``,...r,ref:d,id:p,name:f,onInvalid:a(e.onInvalid,e=>{let t=e.currentTarget;v(t)}),onChange:a(e.onChange,e=>{x()})})});re.displayName=P;var F=`This value is not valid`,ie={badInput:F,patternMismatch:`This value does not match the required pattern`,rangeOverflow:`This value is too large`,rangeUnderflow:`This value is too small`,stepMismatch:`This value does not match the required step`,tooLong:`This value is too long`,tooShort:`This value is too short`,typeMismatch:`This value does not match the required type`,valid:void 0,valueMissing:`This value is missing`},I=`FormMessage`,L=y.forwardRef((e,t)=>{let{match:n,name:r,...i}=e,a=A(I,e.__scopeForm),o=r??a.name;return n===void 0?(0,b.jsx)(B,{...i,ref:t,name:o,children:e.children||F}):typeof n==`function`?(0,b.jsx)(z,{match:n,...i,ref:t,name:o}):(0,b.jsx)(R,{match:n,...i,ref:t,name:o})});L.displayName=I;var R=y.forwardRef((e,t)=>{let{match:n,forceMatch:r=!1,name:i,children:a,...o}=e,s=E(I,o.__scopeForm).getFieldValidity(i);return r||s?.[n]?(0,b.jsx)(B,{ref:t,...o,name:i,children:a??ie[n]}):null}),z=y.forwardRef((e,t)=>{let{match:n,forceMatch:r=!1,name:a,id:s,children:c,...l}=e,u=E(I,l.__scopeForm),d=o(t,y.useRef(null)),f=i(),p=s??f,m=y.useMemo(()=>({id:p,match:n}),[p,n]),{onFieldCustomMatcherEntryAdd:h,onFieldCustomMatcherEntryRemove:g}=u;y.useEffect(()=>(h(a,m),()=>g(a,m.id)),[m,a,h,g]);let _=u.getFieldValidity(a),v=u.getFieldCustomErrors(a)[p];return r||_&&!X(_)&&v?(0,b.jsx)(B,{id:p,ref:d,...l,name:a,children:c??F}):null}),B=y.forwardRef((e,t)=>{let{__scopeForm:n,id:r,name:a,...o}=e,s=D(I,n),c=i(),l=r??c,{onFieldMessageIdAdd:d,onFieldMessageIdRemove:f}=s;return y.useEffect(()=>(d(a,l),()=>f(a,l)),[a,l,d,f]),(0,b.jsx)(u.span,{id:l,...o,ref:t})}),V=`FormValidityState`,H=e=>{let{__scopeForm:t,name:n,children:r}=e,i=E(V,t),a=A(V,t),o=n??a.name;return(0,b.jsx)(b.Fragment,{children:r(i.getFieldValidity(o))})};H.displayName=V;var U=`FormSubmit`,W=y.forwardRef((e,t)=>{let{__scopeForm:n,...r}=e;return(0,b.jsx)(u.button,{type:`submit`,...r,ref:t})});W.displayName=U;function G(e){let t={};for(let n in e)t[n]=e[n];return t}function K(e){return e instanceof HTMLElement}function q(e){return`validity`in e}function J(e){return q(e)&&(e.validity.valid===!1||e.getAttribute(`aria-invalid`)===`true`)}function Y(e){let t=e.elements,[n]=Array.from(t).filter(K).filter(J);return n}function ae(e,t){return e.match.constructor.name===`AsyncFunction`||se(e.match,t)}function oe(e){return e.match.constructor.name===`Function`}function se(e,t){return e(...t)instanceof Promise}function X(e){let t=!1;for(let n in e){let r=n;if(r!==`valid`&&r!==`customError`&&e[r]){t=!0;break}}return t}function Z(e,t){if(e?.valid===!0&&!t)return!0}function Q(e,t){if(e?.valid===!1||t)return!0}var ce=O;function le(){let[e,t]=(0,y.useContext)(g);return v(r,{color:`red`,onClick:(0,y.useCallback)(t=>e([_(`reflex___state____state.amigo_invisible___pages___crear_grupo____state.go_back`,{},{})],[t],{}),[e,_]),type:`button`},`Cancelar`)}function $(){let[e,t]=(0,y.useContext)(g);return v(ce,{className:`Root `,css:{width:`100%`},onSubmit:(0,y.useCallback)(t=>{let n=t.target;t.preventDefault(),{...Object.fromEntries(new FormData(n).entries())},((...t)=>e([_(`_call_function`,{function:()=>null,callback:null},{preventDefault:!0})],t,{}))(t)})},v(f,{align:`start`,className:`rx-Stack`,css:{width:`400px`},direction:`column`,justify:`center`,gap:`7`},v(m,{className:`snes-form-group`},v(l,{as:`label`},`Nombre del grupo:`),v(d,{placeholder:`Introduce el nombre del grupo`})),v(m,{className:`snes-form-group`},v(l,{as:`label`},`Contraseña del grupo:`),v(d,{placeholder:`Introduce la contraseña del grupo`,type:`password`})),v(f,{align:`start`,className:`rx-Stack`,direction:`row`,gap:`3`},v(r,{color:`teal`,type:`submit`},`Crear Grupo`),v(le,{}))))}var ue=t(function(){return v(y.Fragment,{},v(c,{css:{padding:`16px`},size:`3`},v(f,{align:`center`,className:`rx-Stack`,css:{height:`90vh`},direction:`column`,justify:`center`,gap:`7`},v(h,{css:{underline:`has-plumber-underline`}},`Amigo invisible`),v(h,{as:`h2`,css:{underline:`has-phantom-underline`}},`Crear Grupo`),v(m,{},v($,{})))),v(`title`,{},`Crear Grupo - Amigo Invisible`),v(`meta`,{content:`favicon.ico`,property:`og:image`}))});export{ue as default};